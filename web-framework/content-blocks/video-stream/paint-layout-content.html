<!--@@ Container Block Opening Tag paint layout @@-->
<script runat="server">
  this.args = {content_block_class: 'cct-video-stream container'}
</script>
%asset_contents_paint_420277%
  <div class="row">
    <div class="col-xs-12 col-md-10 col-md-offset-1">
      <!--@@ Title paint layout @@-->
      %asset_contents_paint_420212%

      <!--@@ Display content above video unless set to show "after" @@-->
      %begin_asset_metadata_template.content.position^neq:after%
        %asset_contents_paint_420234%
      %end_asset%

      <!--@@ Display video stream unless set to never show via "alwaysoff" @@-->
      %begin_asset_metadata_template.videostream.scheduled^neq:alwaysoff%
      <div
        class='video-stream-player-wrapper embed-responsive embed-responsive-%asset_metadata_template.videostream.aspectratio%'
        %begin_asset_metadata_template.videostream.scheduled^eq:scheduled%
        data-schedule-on='%asset_metadata_template.videostream.schedule.on%'
        data-schedule-off='%asset_metadata_template.videostream.schedule.off%'
        %end_asset%
      >
        <div class='video-stream-player clearfix embed-responsive-item'
          style='height: 100%; width: 100%'
          data-vsp_source='%asset_metadata_template.videostream.source^escapehtml%'

          %begin_asset_metadata_template.videostream.watermark.type^neq:none%
            data-vsp_watermark='https://cdn.jcu.edu.au/web-framework/%asset_metadata_template.videostream.watermark.type%'
            data-vsp_position='%asset_metadata_template.videostream.watermark.position%'
          %end_asset%

          %begin_asset_metadata_template.videostream.watermark.link%
            data-vsp_watermark-link='%asset_metadata_template.videostream.watermark.link^escapehtml%'
          %end_asset%

          %begin_asset_metadata_template.videostream.poster.asset%
            data-vsp_poster='%asset_metadata_template.videostream.poster.asset^as_asset:asset_url^escapehtml%'
          %else_begin_asset_metadata_template.videostream.poster.url%
            data-vsp_poster='%asset_metadata_template.videostream.poster.url^escapehtml%'
          %end_asset%

          %begin_asset_metadata_template.videostream.autoplay^eq:true%
            data-vsp_auto-play='true'
            data-vsp_mute='true'
          %end_asset%

          %begin_asset_metadata_template.videostream.loop^eq:true%
            data-vsp_loop='true'
          %end_asset%

          data-vsp_max-buffer-length='90'
          data-vsp_width='100%'
          data-vsp_height='100%'
          data-vsp_auto-play-visible='partial'
          data-vsp_playback-not-supported-message='Sorry, your browser cannot play this video.&lt;br&gt;&lt;a href=&quot;%asset_metadata_template.videostream.source^htmlentities:ENT_HTML5^htmlentities:ENT_QUOTES^htmlentities:ENT_QUOTES%&quot;&gt;Click to open video in another application&lt;/a&gt;'
        ></div>
      </div>

      <script runat="server">
        // This runs at the end of the body set up video streams
        function JCU_body_empower_video_streams() {
          print('<script src="https://cdn.jsdelivr.net/npm/clappr@0/dist/clappr.min.js"></scrip' + 't>\n')
          print('<scr' + 'ipt src="%globals_asset_url:980352%?v=%globals_asset_version:980352%"></scr' + 'ipt>')
        }
      </script>
      %end_asset%

      <!--@@ Display YouTube video as per streaming schedule @@-->
      %begin_asset_metadata_template.videostream.scheduled^neq:alwayson%
      <div
        class='video-stream-player-wrapper embed-responsive embed-responsive-%asset_metadata_template.videostream.aspectratio%'
        %begin_asset_metadata_template.videostream.scheduled^eq:scheduled%
        data-schedule-off='%asset_metadata_template.videostream.schedule.on%'
        data-schedule-on='%asset_metadata_template.videostream.schedule.off%'
        %end_asset%
      >
        <iframe class="embed-responsive-item" src="%asset_metadata_template.embed.url^striphtml^escapehtml%" allowfullscreen="true"></iframe>
      </div>
      %end_asset%

      <!--@@ Display content below video when set to show "after" @@-->
      %begin_asset_metadata_template.content.position^eq:after%
        <div class="m-t-1">
        %asset_contents_paint_420234%
        </div>
      %end_asset%

      <!--@@ Buttons paint layout @@-->
      <script runat="server">
        this.args = {wrapper: {opening: '<div class="row m-t-2"><div class="col-xs-12">', closing: '</div></div>'}}
      </script>
      %asset_contents_paint_394551%
    </div>
  </div>
