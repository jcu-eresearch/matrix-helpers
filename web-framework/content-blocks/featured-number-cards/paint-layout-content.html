<!--@@ Container Block Opening Tag paint layout @@-->
<script runat="server">
  this.args = {content_block_class: 'cct-featured-number-cards container'}
</script>
%asset_contents_paint_420277%


  <!--@@ Title paint layout @@-->
  <script runat="server">
    if (JCU.data.current_theme === 'landing') {
      this.args = { wrapper: {
        opening: '<div class="row m-b-1"><div class="col-md-6 col-md-offset-3">',
        closing: '</div></div>'
      } }
    } else {
      this.args = { wrapper: {
        opening: '<div class="row m-b-1"><div class="col-lg-10 col-lg-offset-1 col-md-12">',
        closing: '</div></div>'
      } }
    }
  </script>
  %asset_contents_paint_420212%

  <div class="row m-b-2 text-xs-center">
    <div class="col-lg-10 col-lg-offset-1 col-md-12">
      <div class="card-deck-wrapper">
        <div class="card-deck">
          <script runat="server">
            function printFeaturedNumberCard(card_id, number, units, icon_class) {
              if (!(number || units)) {
                return
              }

              // Default to not trusting the user entered a number
              var prefix = ''
              var value = number
              var suffix = ''
              var valid_number = false

              // Split up the 'number' into prefix, value and suffix
              var number_parts = number.match(/(.*?)([0-9]*\.?[0-9]+)(.*)/)
              if (number_parts) {
                // Is a matching number
                prefix = number_parts[1]
                value = number_parts[2]
                suffix = number_parts[3]
                valid_number = true
              }

              // Count the number of decimals so we format correctly with jQuery.countTo
              var decimals = value.indexOf('.') !== -1 ? value.split('.')[1].length : 0

              // Set the delay to show this counter (so counters animate left-to-right)
              var delay = (card_id - 1) * 150

              if (JCU.debug) {
                print('<!-- Rendering card ' + card_id + ' for %asset_assetid% -->')
              }
              print(' \
<div class="card card-block"> \
<div class="card-icon ' + icon_class + ' bg-inverse text-inverse"></div> \
<p class="card-title animated counter" data-animation="fadeIn" data-delay="' + delay + '"> \
<span class="display-4"> \
<span class="counter-prefix">' + prefix + '</span><span class="' + (valid_number ? 'timer' : '') + '" data-decimals="' + decimals + '" data-from="0" data-to="' + value + '">' + value + '</span><span class="counter-suffix">' + suffix + '</span>\
</span><br>' + units +' \
</p> \
' + JCU.phrasingHtmlFromKeyword('globals_asset_metadata_template.numfeature.desc' + card_id + ':%asset_assetid%', {prepend: '<p class="card-text">', append: '</p>'}) + ' \
</div> \
              ')
            }

            // This *cannot* be a loop because of the keyword rendering
            if (JCU.debug) {
              print('<!-- Rendering cards -->')
            }
            printFeaturedNumberCard(1, "%asset_metadata_template.numfeature.num1^escapequotes%", "%asset_metadata_template.numfeature.units1^escapequotes%", "%asset_metadata_template.numfeature.icon1^escapequotes%")
            printFeaturedNumberCard(2, "%asset_metadata_template.numfeature.num2^escapequotes%", "%asset_metadata_template.numfeature.units2^escapequotes%", "%asset_metadata_template.numfeature.icon2^escapequotes%")
            printFeaturedNumberCard(3, "%asset_metadata_template.numfeature.num3^escapequotes%", "%asset_metadata_template.numfeature.units3^escapequotes%", "%asset_metadata_template.numfeature.icon3^escapequotes%")
            printFeaturedNumberCard(4, "%asset_metadata_template.numfeature.num4^escapequotes%", "%asset_metadata_template.numfeature.units4^escapequotes%", "%asset_metadata_template.numfeature.icon4^escapequotes%")
            printFeaturedNumberCard(5, "%asset_metadata_template.numfeature.num5^escapequotes%", "%asset_metadata_template.numfeature.units5^escapequotes%", "%asset_metadata_template.numfeature.icon5^escapequotes%")
          </script>
        </div><!--@@ /.card-deck @@-->
      </div><!--@@ /.card-deck-wrapper @@-->
    </div><!--@@ /.col-lg-10 @@-->
  </div><!--@@ /.row @@-->

  <!--@@ Buttons paint layout @@-->
  <script runat="server">
    this.args = {wrapper: {opening: '<div class="row"><div class="col-xs-12">', closing: '</div></div>'}}
  </script>
  %asset_contents_paint_394551%
